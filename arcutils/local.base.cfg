; This provides a (hopefully) reasonable set of default settings for
; ARC projects. To use this in a project, add the following line to its
; local settings file (typically the DEFAULT section of local.base.cfg):
;
;     extends = "arcutils:local.base.cfg"
;
; You could also simply copy this file into the project and tweak it as
; necessary.

[DEFAULT]
PROJECT.title = null

; Miscellaneous Django stuff
DEBUG = false
ROOT_URLCONF = "{PACKAGE}.urls"
WSGI_APPLICATION = "{PACKAGE}.wsgi.application"

; ARC CDN
ARC.cdn.host = "cdn.research.pdx.edu"
; Entries are key => path.
; Example: ARC.cdn.paths.jquery-js = "/path/to/jquery/on/cdn"
ARC.cdn.paths = {}
; Entries are library/package name => version:
; Example: ARC.versions.jquery = "2.1.1"
ARC.versions = {}
; Database
; PostgreSQL is ARC's preferred RDBMS
DATABASES.default.ENGINE = "django.db.backends.postgresql_psycopg2"

; Email
DEFAULT_FROM_EMAIL = "{PACKAGE}-{ENV}.info@pdx.edu"
SERVER_EMAIL = "{PACKAGE}-{ENV}.errors@pdx.edu"

; Localization
LANGUAGE_CODE = "en-us"
TIME_ZONE = "America/Los_Angeles"
USE_I18N = true
USE_L10N = true
USE_TZ = true

; Static files
STATIC_URL = "/static/"
STATICFILES_DIRS = ["{PACKAGE_DIR}/static", "{ARCUTILS_PACKAGE_DIR}/static"]

; Templates
TEMPLATES.0.BACKEND = "django.template.backends.django.DjangoTemplates"
TEMPLATES.0.DIRS = ["{PACKAGE_DIR}/templates", "{ARCUTILS_PACKAGE_DIR}/templates"]
TEMPLATES.0.OPTIONS.context_processors = [
        "django.template.context_processors.debug",
        "django.template.context_processors.request",
        "django.contrib.auth.context_processors.auth",
        "django.contrib.messages.context_processors.messages"
    ]

INSTALLED_APPS = [
        "django.contrib.admin",
        "django.contrib.auth",
        "django.contrib.contenttypes",
        "django.contrib.sessions",
        "django.contrib.messages",
        "django.contrib.staticfiles",
        "arcutils"
    ]
; In simple cases, you can set this to a list of additional apps to
; install in the project's settings.
EXTRA.INSTALLED_APPS = null

MIDDLEWARE_CLASSES = [
        "django.contrib.sessions.middleware.SessionMiddleware",
        "django.middleware.common.CommonMiddleware",
        "django.middleware.csrf.CsrfViewMiddleware",
        "django.contrib.auth.middleware.AuthenticationMiddleware",
        "django.contrib.auth.middleware.SessionAuthenticationMiddleware",
        "django.contrib.messages.middleware.MessageMiddleware",
        "django.middleware.clickjacking.XFrameOptionsMiddleware",
        "django.middleware.security.SecurityMiddleware"
    ]
; In simple cases, you can set this to a list of additional middleware
; in the project's settings.
EXTRA.MIDDLEWARE_CLASSES = null

[dev]
ENV = "dev"
DEBUG = true
DATABASES.default.HOST = ""
DATABASES.default.NAME = "{PACKAGE}"
DATABASES.default.USER = ""
DATABASES.default.PASSWORD = ""
EMAIL_BACKEND = "django.core.mail.backends.console.EmailBackend"
LOGGING.version = 1
LOGGING.disable_existing_loggers = false
LOGGING.handlers.console.level = "DEBUG"
LOGGING.handlers.console.class = "logging.StreamHandler"
LOGGING.loggers.django.level = "INFO"
SECRET_KEY = "NOT A SECRET"
STATIC_ROOT = "{PACKAGE_DIR}/../static"
TEMPLATES.0.APP_DIRS = true
TEMPLATES.0.OPTIONS.debug = true

[test]
ENV = "test"
TEST = true
DATABASES.default.HOST = ""
DATABASES.default.NAME = "{PACKAGE}"
DATABASES.default.USER = ""
DATABASES.default.PASSWORD = ""
EMAIL_BACKEND = "django.core.mail.backends.console.EmailBackend"
LOGGING.version = 1
LOGGING.disable_existing_loggers = true
LOGGING.root.level = "ERROR"
PASSWORD_HASHERS = ["django.contrib.auth.hashers.MD5PasswordHasher"]
SECRET_KEY = "NOT A SECRET"

[stage]
ENV = "stage"
ALLOWED_HOSTS = ["{PACKAGE}.stage.rc.pdx.edu"]
DATABASES.default.HOST = "merope.rc.pdx.edu"
DATABASES.default.NAME = "{PACKAGE}_stage"
DATABASES.default.USER = "{PACKAGE}_stage_l"
EMAIL_BACKEND = "django.core.mail.backends.smtp.EmailBackend"
STATIC_ROOT = "/vol/www/{PACKAGE}/static/{ENV}"

[prod]
ENV = "prod"
DEBUG = false
DATABASES.default.HOST = "postgresql.rc.pdx.edu"
DATABASES.default.NAME = "{PACKAGE}"
DATABASES.default.USER = "{PACKAGE}_l"
EMAIL_BACKEND = "django.core.mail.backends.smtp.EmailBackend"
STATIC_ROOT = "/vol/www/{PACKAGE}/static/{ENV}"
STATICFILES_STORAGE = "django.contrib.staticfiles.storage.ManifestStaticFilesStorage"
TEMPLATES.0.OPTIONS.debug = false
TEMPLATES.0.OPTIONS.loaders = [
        ["django.template.loaders.cached.Loader", [
            "django.template.loaders.filesystem.Loader",
            "django.template.loaders.app_directories.Loader"
        ]]
    ]
